{# src/DoninfoBundle/Resources/views/Membre/messageview.html.twig #}

{% extends "DoninfoBundle:Membre:messages.html.twig" %}

{% block contenumembre %}
    
    <div class="infos-membre-annonce">
        <div class="bloc-membre-annonce">
            <h4 class="titre-membre">
                <span>
                    <i class="fa fa-envelope-open" aria-hidden="true"></i>
                </span>
                {{ message.titre }}
            </h4>
            
            <div class="bloc-container-message bloc-lecture row">
                <div class="sous-bloc-message col-sm-4 col-xs-12">
                    <div class="bloc-message-infos row">
                        
                        <span class="sous-bloc-message-infos col-xs-12">
                            <i class="fa fa-user-circle" aria-hidden="true"></i>
                            <span class="bloc-auteur">
                                {{ message.user.nomstructure }}
                            </span>
                        </span>
                        
                        <span class="sous-bloc-message-infos col-xs-12">
                            <i class="fa fa-calendar" aria-hidden="true"></i>
                            <span class="bloc-date">
                                {{ message.datemsg|date("d/m/Y") }}
                            </span>
                        </span>
                            
                        <span class="sous-bloc-message-infos col-xs-12">
                            <i class="fa fa-sticky-note" aria-hidden="true"></i>
                            <span class="bloc-num">
                                <a href="{{ path('doninfo_annonce', { 'id': message.annonce.id }) }}">
                                    {{ message.annonce.numero }}
                                </a>
                            </span>
                        </span>
                            


                    </div>
                </div>
                
                <div class="sous-bloc-message col-sm-8 col-xs-12">
                    <div class="bloc-message-contenu col-xs-12">
                        {{ message.contenumessage }}
                    </div>
                </div>   
                
            </div>
            
            {% if reponse is defined %}
            
                <div class="bloc-container-message bloc-reponse row">
                   
                    {{ form_start(reponse) }}
                            
                    {% form_theme reponse 'DoninfoBundle:Template:formulaires.html.twig' %}
                           
                        {{ form_row(reponse.titre, 
                            {'attr': {'class' : 'form-control input-form-box'}}
                        )}}
                            
                        {{ form_row(reponse.contenumessage, 
                            {'attr': {'class' : 'form-control input-form-box'}}
                        )}}
                            
                        <div class="button-msg-container">
                            {{ form_row(reponse.envoyer,
                                {'attr': {'class' : 'button-msg form-control'},
                                 'label' : 'doninfo.message.label.repondre' 
                                }
                            )}}
                        </div>
                            
                    {{ form_end(reponse) }}
                    
                </div>
            
            {% endif %}
            
        </div>
    </div>
 
{% endblock %}
